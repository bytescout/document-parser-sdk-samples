---
templateVersion: 3
templatePriority: 0
sourceId: Amazon Web Services Invoice
detectionRules:
  keywords:
  - Amazon Web Services
  - ATTN
  - Invoice
fields:
  total:
    type: regex
    expression: TOTAL AMOUNT DUE ON{{ANY}}{{MONEY}}
    dataType: decimal
  subTotal:
    type: regex
    expression: ^[ ]+Charges[ ]+\$(?<value>(\d{1,3},?)+\.\d\d)
    dataType: decimal
  dateIssued:
    type: regex
    expression: Invoice Date:\s+([a-zA-Z]+ \d+ , \d+)
    dataType: date
    dateFormat: MMMM d , yyyy
  invoiceId:
    type: regex
    expression: 'Invoice Number: {{123}}'
  companyName:
    type: static
    expression: Amazon Web Services, Inc.
  companyWebsite:
    type: static
    expression: aws.amazon.com
  billTo:
    type: rectangle
    expression: Bill to Address:{{ANY}}
    rectangle:
    - 33
    - 115.5
    - 213.75
    - 72.75
    pageIndex: 0
  currency:
    type: static
    expression: USD
tables:
- name: table1
  start:
    expression: '^[ ]+Detail\r?$'
  end:
    expression: '\z'
  row:
    expression: '^[\f ]+(?<description>\S+(?: \S+)*)[ ]+\$(?<unitPrice>(\d{1,3},?)+\.\d\d)\r?$'
  columns:
  - name: unitPrice
    type: decimal
  multipage: true

